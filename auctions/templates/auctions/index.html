{% extends "auctions/layout.html" %}

{% block body %}
    <h2>Active Listings</h2>

    <!-- If this page is to display the category view, the "category" context will be present. Otherwise, this field is empty -->
    {% if category %}
        <h4>Category: {{ category }}</h4>
    {% endif %}

    {% for item in listings %}

        <div>
            
            <ul class="list-group w-25">
                {% if user.is_authenticated %}
                    <li class="list-group-item"><h4><a href="{% url 'view_listing' item.id %}">{{ item.title }}</a></h4></li>
                {% else %}
                    <li class="list-group-item"><h4>{{ item.title }}</h4></li>
                {% endif %}

                <li class="list-group-item"><h6>Seller: {{ item.seller}}</h6></li>
                <li class="list-group-item"><h6>Listing price: ${{ item.price }}</h6></li>
                <li class="list-group-item">Description: {{ item.description }}</li>
                <li class="list-group-item">Category: {{ item.category }}</li>
                <li class="list-group-item"><img src="{{ item.image }}" alt="{{ item.title }}" width="10%" height="10%"></li>
                <li class="list-group-item"><small>Created {{ item.created }}</small></li>
            </ul>
        </div>
        <hr>

    {% empty %}
        <h4>No active listings</h4>

    {% endfor %}
{% endblock %}